<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Fading Relationship</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
        canvas {
            background-color: #ffffff;
            margin: 20px auto;
            display: block;
        }
        .game-over {
            color: black;
            font-size: 36px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>The Fading Relationship</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div id="gameOver" class="game-over"></div>

    <script>
        // Canvas setup
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Game variables
        const playerWidth = 50;
        const playerHeight = 50;
        let playerX = canvas.width / 2 - playerWidth / 2;
        let playerY = canvas.height - playerHeight - 10;
        let playerSpeed = 5;

        const fallingObjects = [];
        let objectSpeed = 5;
        let score = 0;
        let gameOver = false;

        // Draw player
        function drawPlayer() {
            ctx.fillStyle = 'red';
            ctx.fillRect(playerX, playerY, playerWidth, playerHeight);
        }

        // Draw falling objects
        function drawFallingObjects() {
            ctx.fillStyle = 'red';
            fallingObjects.forEach(obj => {
                ctx.beginPath();
                ctx.arc(obj.x, obj.y, 15, 0, Math.PI * 2);
                ctx.fill();
            });
        }

        // Generate new falling objects
        function generateNewObject() {
            const x = Math.random() * (canvas.width - 50) + 25;
            return { x: x, y: 0 };
        }

        // Game loop
        function gameLoop() {
            if (gameOver) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawPlayer();
            drawFallingObjects();
            displayScore();

            // Move falling objects
            fallingObjects.forEach(obj => {
                obj.y += objectSpeed;
            });

            // Check for collisions
            fallingObjects.forEach((obj, index) => {
                if (obj.x > playerX && obj.x < playerX + playerWidth && obj.y > playerY && obj.y < playerY + playerHeight) {
                    fallingObjects.splice(index, 1);
                    score++;
                } else if (obj.y > canvas.height) {
                    fallingObjects.splice(index, 1);
                }
            });

            // Add new objects
            if (Math.random() < 0.05) {
                fallingObjects.push(generateNewObject());
            }

            // Check for game over
            if (score >= 10) {
                gameOver = true;
                document.getElementById('gameOver').textContent = 'Everything is slipping away...';
            }

            requestAnimationFrame(gameLoop);
        }

        // Display score
        function displayScore() {
            ctx.fillStyle = 'black';
            ctx.font = '20px Arial';
            ctx.fillText('Score: ' + score, 10, 30);
        }

        // Handle keyboard events
        window.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowLeft' && playerX > 0) {
                playerX -= playerSpeed;
            } else if (event.key === 'ArrowRight' && playerX < canvas.width - playerWidth) {
                playerX += playerSpeed;
            }
        });

        // Start game
        gameLoop();
    </script>
</body>
</html>
